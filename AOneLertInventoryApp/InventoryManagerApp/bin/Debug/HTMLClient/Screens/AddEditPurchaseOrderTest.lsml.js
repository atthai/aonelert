/// <reference path="../GeneratedArtifacts/viewModel.js" />

myapp.AddEditPurchaseOrderTest.created = function (screen) {
    // Write code here.
    //var contentSupplier = screen.PurchaseOrder.Supplier;
    //if (contentSupplier != undefined || contentSupplier != null) {
    //    screen.findContentItem("PurchaseOrderDate").isEnabled = false;
    //    screen.findContentItem("Supplier").isEnabled = false;
    //};

    //var newPO = new myapp.PurchaseOrder();
    //var crrDate = new Date();
    //var docYear = crrDate.format("yy")
    //var filter = "substringof('PO" + docYear + "',PurchaseOrderNumber)";
    //myapp.activeDataWorkspace.ApplicationData.PurchaseOrders.filter(filter).execute().then(function (result){
    //    var LastPONo = result.results[result.results.length - 1];
    //    var newNumber = parseInt(LastPONo.PONumber.substring(4)) + 1;
    //    var tempDoc = "000000";
    //    var NewPONo = 'PO' + docYear + tempDoc.substring(0, tempDoc.length - newNumber.toString().length) + newNumber.toString();
    //    screen.PurchaseOrder.PurchaseOrderNumber = NewPONo;
    //}, function () {
    //    screen.PurchaseOrder.PurchaseOrderNumber = 'PO' + docYear + '000001';
    //});
    //if (newPO.PurchaseOrderNumber == undefined || newPO.PurchaseOrderNumber == null) {
    //    screen.PurchaseOrder.PurchaseOrderNumber = 'PO' + docYear + '000001';
    //}
    //screen.PurchaseOrder.PurchaseOrderDate = crrDate;
    //screen.PurchaseOrder.PurchaseOrderStatus = true;
    //screen.PurchaseOrder = newPO;
    
};